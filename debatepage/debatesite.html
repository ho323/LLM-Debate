<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì •ì¹˜í† ë¡  (Public UI)</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#f5f7fa;--surface:#fff;--text:#1f2937;--muted:#5c6773;
      --primary:#0b3a71;--primary-ink:#0a2e59;--accent:#1c5cc5;
      --border:#d5dde5;--shadow:0 1px 0 rgba(16,24,40,.02);
      --radius:8px;--maxw:1200px;
    }
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:"Noto Sans KR",system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;font-size:18px;line-height:1.7;letter-spacing:.2px;color:var(--text);background:var(--bg)}
    .site-header{background:#ebf0f7;border-bottom:1px solid var(--border)}
    .site-header .inner{max-width:var(--maxw);margin:0 auto;padding:24px 20px;display:flex;align-items:center;gap:16px}
    .brand-mark{width:40px;height:40px;border-radius:8px;border:1px solid var(--border);background:#fff;object-fit:contain;image-rendering:auto;display:inline-block}
    .titles h1{font-size:40px;line-height:1.2;margin:0 0 6px 0;color:var(--primary-ink);font-weight:700;letter-spacing:.3px}
    .titles p{margin:0;color:var(--muted);font-size:16px}
    .container{max-width:var(--maxw);margin:0 auto;padding:24px 20px}
    .search-wrap{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;display:flex;align-items:center;justify-content:center;gap:12px}
    .search-wrap input[type="text"]{width:520px;font-size:18px;padding:12px 14px;border:1px solid var(--border);border-radius:6px;outline:none}
    .search-wrap input[type="text"]:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(28,92,197,.15)}
    .btn-primary{font-size:18px;padding:12px 20px;background:var(--primary);color:#fff;border:1px solid var(--primary);border-radius:6px;cursor:pointer}
    .btn-primary:focus-visible{outline:none;box-shadow:0 0 0 3px rgba(28,92,197,.2)}
    #topicTitle{margin:18px 0 0 0;font-size:22px;font-weight:600;color:var(--primary-ink);text-align:center;display:none}
    /* #subtitle{max-width:var(--maxw);margin:16px auto 0 auto;background:var(--primary);color:#fff;border:1px solid #09325f;border-radius:var(--radius);padding:12px 16px;font-size:17px;min-height:56px;display:flex;align-items:center;justify-content:center} */
    #stage{opacity:1}
    .panel-moderator{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;margin-top:20px;text-align:center}
    .grid-2{display:grid;grid-template-columns:1.5fr 1.5fr;gap:0;margin-top:20px}
    .participant{
      background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
    .participant h3{
      margin:0 0 12px 0;font-size:18px;font-weight:700;color:var(--primary-ink)}
    .participant.progressive {
      border-top: 4px solid #1b6db7;
      border-right: none;            /* ğŸ‘‰ ê°€ìš´ë° ê²½ê³„ì„  ê²¹ì¹˜ì§€ ì•Šë„ë¡ */
      border-radius: 8px 0 0 8px;    /* ì™¼ìª½ë§Œ ë‘¥ê¸€ê²Œ */
    }
    .participant.conservative {
      border-top: 4px solid #a64040;
      border-left: none;
      border-radius: 0 8px 8px 0;    /* ì˜¤ë¥¸ìª½ë§Œ ë‘¥ê¸€ê²Œ */
    }


    /* ğŸ¯ ì˜ìƒê³¼ ì´ë¯¸ì§€ ëª¨ë‘ ì—¬ë°± ì—†ì´ ê½‰ ì°¨ê²Œ (ì˜ë¼ëƒ„) */
    .participant video,
    .participant img {
      width: 100%;
      height: 500px;
      object-fit: cover;     /* ë¹„ìœ¨ ìœ ì§€ + ì—¬ë°± ì—†ì´ ê½‰ ì±„ìš°ê¸°, ë„˜ì¹˜ëŠ” ë¶€ë¶„ ì˜ë¦¼ */
      border-radius: 6px;
      display: block;
      border: 1px solid var(--border);
      background: #000;
    }
    .panel-moderator {
      background: #000;               /* ğŸ‘‰ ë°°ê²½ ê²€ì •ìƒ‰ */
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 20px;
      margin-top: 20px;
      text-align: center;
    }
    .panel-moderator video {
      width: 100%;
      height: auto;
      max-height: 600px;
      object-fit: cover;
      border-radius: 6px;
      border: 1px solid var(--border);
      background: #000;               /* ì˜ìƒ ì—¬ë°±ë„ ê²€ì • */
    }

        /* ìš”ì•½ ë²„íŠ¼ */
    .summary-btn {
      display: none;
      margin: 32px auto 0 auto;
      padding: 14px 28px;
      font-size: 18px;
      font-weight: 600;
      letter-spacing: .2px;
      color: #fff;
      background: linear-gradient(180deg,#0f3f79 0%,#0b3263 100%);
      border: 1px solid #092a50;
      border-radius: 999px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08),
                  0 6px 18px rgba(8,28,58,.18);
      transition: box-shadow .2s ease, transform .15s ease, filter .2s ease;
      cursor: pointer;
      align-items: center;
      gap: 10px;
    }
    .summary-btn svg {width: 18px;height: 18px;flex: 0 0 auto}
    .summary-btn:focus-visible {
      outline: none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08),
                  0 0 0 3px rgba(28,92,197,.20),
                  0 6px 18px rgba(8,28,58,.2);
    }
    .summary-btn:hover {
      filter: saturate(1.05);
      transform: translateY(-2px);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08),
                  0 10px 24px rgba(8,28,58,.22);
    }
    .summary-btn:active {
      transform: translateY(0);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08),
                  0 4px 14px rgba(8,28,58,.18);
    }

    /* ìš”ì•½ ë°•ìŠ¤ ì»¨í…Œì´ë„ˆ */
    .summary-container {
      display: none;
      margin-top: 32px;
      padding: 0 8px;
    }

    /* ìš”ì•½ ì¹´ë“œ */
    .summary-card {
      background: #fff;
      border: 1px solid #d5dde5;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,.08);
      padding: 28px 32px;
      max-width: var(--maxw);
      margin: 0 auto;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .summary-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(0,0,0,.12);
    }

    /* ìš”ì•½ ì œëª© */
    .summary-card h3 {
      margin: 0 0 16px 0;
      font-size: 20px;
      font-weight: 700;
      color: var(--primary-ink);
      border-left: 4px solid var(--accent);
      padding-left: 10px;
    }

    /* ìš”ì•½ ë³¸ë¬¸ */
    .summary-card p {
      margin: 0;
      font-size: 17px;
      line-height: 1.65;
      color: var(--text);
      text-align: justify;
    }
      
    
    .participant p,.panel-moderator p{margin:12px 0 0 0;color:var(--text);font-size:18px}
    @media (max-width:900px){
      .search-wrap{flex-direction:column}
      .search-wrap input[type="text"]{width:100%}
      .grid-2,.summary-grid{grid-template-columns:1fr}
      video,.participant img{height:240px}
      .media-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 21 / 9;
  height: 500px;
  overflow: hidden;
}
.media-wrap video,
.media-wrap img {
  position: absolute;
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 6px;
  border: 1px solid var(--border);
  background: #000;
  top: 0;
  left: 0;
  transition: opacity 0.4s ease; /* ë¶€ë“œëŸ¬ìš´ ì „í™˜ */
}
.media-wrap video.hide,
.media-wrap img.hide {
  opacity: 0;
}

    }
  </style>
</head>
<body>
  <header class="site-header" role="banner">
    <div class="inner">
      <img class="brand-mark" src="logo.jpg" alt="ê¸°ê´€ ë¡œê³ " loading="eager" decoding="async" />
      <div class="titles">
        <h1>ì •ì¹˜ í† ë¡ </h1>
        <p>ë³¸ ì˜ê²¬ì€ ê¸°ì‚¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ LLMì´ ìƒì„±í•œ ì˜ê²¬ì´ë©°, íŠ¹ì • ì¸ë¬¼ì˜ ì˜ê²¬ê³¼ëŠ” ë¬´ê´€í•©ë‹ˆë‹¤.</p>
      </div>
    </div>
  </header>

  <main class="container" role="main">
    <div id="searchBox" class="search-wrap" aria-label="í† ë¡  ì£¼ì œ ì…ë ¥ ì˜ì—­">
      <input type="text" id="topicInput" placeholder="í† ë¡  ì£¼ì œë¥¼ ì…ë ¥í•˜ì„¸ìš”" aria-label="í† ë¡  ì£¼ì œ ì…ë ¥" />
      <button type="button" class="btn-primary" id="startBtn">í† ë¡  ì§„í–‰</button>
    </div>

    <h2 id="topicTitle"></h2>

    <div id="stage" class="stage"></div>
    <div id="subtitle" aria-live="polite"></div>

    <button id="summaryBtn" class="summary-btn" aria-label="ìš”ì•½ ë³´ê¸°">
      <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path fill="currentColor" d="M12 5c-4.97 0-9 3.58-10 7 1 3.42 5.03 7 10 7s9-3.58 10-7c-1-3.42-5.03-7-10-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z"/>
      </svg>
      <span>ìš”ì•½ ë³´ê¸°</span>
    </button>

    <section id="summaryBox" class="summary-container">
      <div class="summary-card" role="region" aria-label="í† ë¡  ìš”ì•½">
        <h3>ìš”ì•½</h3>
        <p> ì´ë²ˆ í† ë¡ ì—ì„œ ì§„ë³´ ì¸¡ì€ ê²½ì œ ìœ„ê¸° ì‹œ ì •ë¶€ì˜ ì ê·¹ì  ê°œì…ì´ ì„œë¯¼ê³¼ ì¤‘ì‚°ì¸µ ë³´í˜¸ë¥¼ ìœ„í•´ í•„ìˆ˜ì ì´ë¼ ì£¼ì¥í•œ ë°˜ë©´, ë³´ìˆ˜ ì¸¡ì€ ë‹¨ê¸°ì  íš¨ê³¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì¥ê¸°ì  ì¬ì • ì ìì™€ êµ­ê°€ ì‹ ìš© ì•…í™” ë¥¼ ìš°ë ¤í•˜ë©° ì‹œì¥ ì£¼ë„ì˜ íšŒë³µì„ ê°•ì¡°í–ˆë‹¤. ì–‘ì¸¡ ëª¨ë‘ êµ­ê°€ì±„ë¬´ ì¦ê°€ ë¬¸ì œë¥¼ ì–¸ê¸‰í–ˆìœ¼ë‚˜, ì§„ë³´ëŠ” êµ­ì œ ê¸°ì¤€ ë‚´ ê´€ë¦¬ ê°€ëŠ¥ì„±ì„, ë³´ìˆ˜ëŠ” ì§€ì† ê°€ëŠ¥ì„±ì˜ ìœ„í—˜ì„±ì„ ê°ê° ê°•ì¡°í–ˆë‹¤.</p>
      </div>
    </section>
  </main>

  <script>
    const progress = [
  {role:"ì‚¬íšŒì", text:[
    "ì•ˆë…•í•˜ì„¸ìš”, ê·€ì¤‘í•œ ì‹œê°„ì„ ë‚´ì–´ ì˜¤ëŠ˜ ì´ ìë¦¬ì— í•¨ê»˜í•´ ì£¼ì‹  ëª¨ë“  ë¶„ë“¤ê»˜ ì§„ì‹¬ìœ¼ë¡œ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤.",
    "ë¯¼ìƒê²½ì œ íšŒë³µì€ ìš°ë¦¬ ì‚¬íšŒê°€ ì§ë©´í•œ ê°€ì¥ ì‹œê¸‰í•˜ê³  ì¤‘ìš”í•œ ê³¼ì œ ì¤‘ í•˜ë‚˜ì´ë©°, ì´ì— ëŒ€í•œ ì‹¬ë„ ìˆëŠ” ë…¼ì˜ëŠ” ì •ì±…ì˜ ë°©í–¥ì„±ì„ ëª¨ìƒ‰í•˜ê³  ë¯¸ë˜ë¥¼ ì¤€ë¹„í•˜ëŠ” ë° í•„ìˆ˜ì ì…ë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ ì´ í† ë¡ ì—ì„œëŠ” ì •ë¶€ì˜ ì—­í• ê³¼ ì •ì±… ë°©í–¥ì— ëŒ€í•´ ë‹¤ì–‘í•œ ê´€ì ì„ ë‚˜ëˆ„ê³ ì í•©ë‹ˆë‹¤.",
    "ì–‘ì¸¡ì˜ í† ë¡ ìë¶„ë“¤ê»˜ì„œëŠ” ê°ìì˜ ì „ë¬¸ì„±ê³¼ í†µì°°ë ¥ì„ ë°”íƒ•ìœ¼ë¡œ ê±´ì„¤ì ì¸ ì˜ê²¬ì„ ì œì‹œí•´ ì£¼ì‹¤ ê²ƒìœ¼ë¡œ ê¸°ëŒ€í•©ë‹ˆë‹¤.",
    "ì €ëŠ” ì¤‘ë¦½ì ì¸ ì…ì¥ì—ì„œ ê³µì •í•˜ê³  í’ˆê²© ìˆëŠ” í† ë¡ ì´ ì´ë£¨ì–´ì§ˆ ìˆ˜ ìˆë„ë¡ ìµœì„ ì„ ë‹¤í•˜ê² ìŠµë‹ˆë‹¤.",
    "ì´ì œ ë³¸ê²©ì ìœ¼ë¡œ í† ë¡ ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤."
  ], timings:[6.5,13,6,9,5,4], video:"facevideo/ì‚¬íšŒì1_h264.mp4", duration:20},

  {role:"ì§„ë³´", text:[
    "êµ­ë¯¼ ì—¬ëŸ¬ë¶„, í˜„ì¬ ìš°ë¦¬ ê²½ì œëŠ” ë†’ì€ ë¬¼ê°€ì™€ ì„ëŒ€ë£Œ, ì„ê¸ˆ ì •ì²´ë¡œ ì¸í•´ ì„œë¯¼ê³¼ ì¤‘ì‚°ì¸µì˜ ì‚¶ì´ ê·¹ë„ë¡œ ì–´ë ¤ìš´ ìƒí™©ì…ë‹ˆë‹¤.",
    "2023ë…„ ì†Œë¹„ìë¬¼ê°€ ìƒìŠ¹ë¥ ì€ 3.6%ë¡œ 10ë…„ ë§Œì— ìµœê³ ì¹˜ë¥¼ ê¸°ë¡í–ˆê³ , ì²­ë…„ ì‹¤ì—…ë¥ ì€ 7.8%ë¡œ ì—¬ì „íˆ ë†’ì€ ìˆ˜ì¤€ì…ë‹ˆë‹¤.",
    "íŠ¹íˆ ì†Œë“ í•˜ìœ„ 20% ê°€êµ¬ì˜ ê°€ì²˜ë¶„ì†Œë“ì€ ì „ë…„ ëŒ€ë¹„ 4.5% ê°ì†Œí•´ ê²½ì œì  ë¶ˆí‰ë“±ì´ ì‹¬í™”ë˜ê³  ìˆìŠµë‹ˆë‹¤.",
    "ì •ë¶€ì˜ ê¸°ì¡´ ì •ì±…ë“¤ì€ ëŒ€ê¸°ì—… ì¤‘ì‹¬ ì„±ì¥ì— ì¹˜ì¤‘í•˜ë©° ì„œë¯¼ ê²½ì œ íšŒë³µì—ëŠ” ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.",
    "ë”ë¶ˆì–´ë¯¼ì£¼ë‹¹ì€ ì¤‘ì†Œê¸°ì—…Â·ì†Œìƒê³µì¸ ì§€ì› í™•ëŒ€, ê³µê³µì£¼íƒ 10ë§Œ í˜¸ ì¶”ê°€ ê³µê¸‰, ìµœì €ì„ê¸ˆ ì¸ìƒ, ë¹„ì •ê·œì§ ë³´í˜¸ ê°•í™”ë¥¼ í†µí•´ ë¯¼ìƒê²½ì œë¥¼ íšŒë³µì‹œí‚¤ê² ìŠµë‹ˆë‹¤.",
    "êµ­ë¯¼ ì—¬ëŸ¬ë¶„ì˜ ì‚¶ì´ ë‚˜ì•„ì§€ëŠ” ê²ƒì´ ìµœê³ ì˜ ì •ì±… ì„±ê³¼ì…ë‹ˆë‹¤."
  ], timings:[5.0, 3.2, 9, 5, 6.9, 10.1, 3], video:"facevideo/ì§„ë³´1_h264.mp4", duration:25},

  {role:"ë³´ìˆ˜", text:[
    "í˜„ì¬ ìš°ë¦¬ ê²½ì œëŠ” ê³ ë¬¼ê°€ì™€ ê³ ê¸ˆë¦¬ë¡œ ì¸í•œ ì†Œë¹„ ìœ„ì¶•, ì²­ë…„ ì‹¤ì—…ë¥  ì¦ê°€, ê¸°ì—… íˆ¬ì ê°ì†Œ ë“± ë³µí•©ì  ë¬¸ì œì— ì§ë©´í•´ ìˆìŠµë‹ˆë‹¤.",
    "2023ë…„ ì†Œë¹„ìë¬¼ê°€ì§€ìˆ˜ëŠ” ì „ë…„ ëŒ€ë¹„ 4.7% ìƒìŠ¹í–ˆê³ , ì²­ë…„ ì‹¤ì—…ë¥ ì€ 6.8%ë¡œ ì—¬ì „íˆ ë†’ìŠµë‹ˆë‹¤.",
    "ì¤‘ì†Œê¸°ì—… ì¤‘ì•™ì€í–‰ ì¡°ì‚¬ì— ë”°ë¥´ë©´ 55%ê°€ ê²½ê¸° ì•…í™”ë¥¼ ìš°ë ¤í•˜ë©° íˆ¬ìë¥¼ ì¤„ì´ê³  ìˆë‹¤ê³  ë‹µí–ˆìŠµë‹ˆë‹¤.",
    "ì´ëŸ° ìƒí™©ì—ì„œ ì •ë¶€ì˜ ê³¼ë„í•œ ì¬ì • ì§€ì¶œê³¼ ê·œì œ ê°•í™”ëŠ” ì‹œì¥ ê¸°ëŠ¥ì„ ì €í•´í•˜ê³  ì¥ê¸°ì ìœ¼ë¡œ ì¬ì • ê±´ì „ì„±ì„ í›¼ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "ê³¼ê±° ë³´ì¡°ê¸ˆ ì •ì±…ì€ ì •ë¶€ ë¶€ì±„ë¥¼ GDP ëŒ€ë¹„ 50% ì´ìƒìœ¼ë¡œ ê¸‰ì¦ì‹œì¼°ìœ¼ë©° ì´ëŠ” ë¯¸ë˜ ì„¸ëŒ€ì— ë¶€ë‹´ì„ ì•ˆê²¼ìŠµë‹ˆë‹¤.",
    "ë”°ë¼ì„œ ìš°ë¦¬ëŠ” ê·œì œ ì™„í™”ì™€ ì„¸ê¸ˆ ê°ë©´, ë…¸ë™ì‹œì¥ ìœ ì—°ì„±ì„ í†µí•œ ë¯¼ê°„ ì£¼ë„ ì„±ì¥ì„ ì¶”ì§„í•˜ê² ìŠµë‹ˆë‹¤."
  ], timings:[10.5,9,8,12,11,11], video:"facevideo/ë³´ìˆ˜1_h264.mp4", duration:25},

  {role:"ì§„ë³´", text:[
    "ìƒëŒ€ ì¸¡ì€ ê²½ì œ ìœ„ê¸°ë¥¼ ì´ìœ ë¡œ ì •ë¶€ì˜ ì—­í• ì„ ì¶•ì†Œí•˜ë ¤ í•˜ì§€ë§Œ ì´ëŠ” ì„œë¯¼ê³¼ ì¤‘ì‚°ì¸µì˜ ê³ í†µì„ ì™¸ë©´í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.",
    "ê³µì‹ í†µê³„ë³´ë‹¤ í›¨ì”¬ ë†’ì€ ìƒí™œë¹„ ë¶€ë‹´, íŠ¹íˆ ì£¼ê±°ë¹„ì™€ êµìœ¡ë¹„ëŠ” í‰ê· ë³´ë‹¤ 2ë°° ì´ìƒ ìƒìŠ¹í–ˆìŠµë‹ˆë‹¤.",
    "ê·œì œ ì™„í™”ì™€ ì„¸ê¸ˆ ê°ë©´ì´ ê¸°ì—… ê²½ìŸë ¥ì„ ë†’ì¸ë‹¤ëŠ” ë…¼ë¦¬ëŠ” ì§€ë‚œ 10ë…„ê°„ ë°ì´í„°ë¡œ ì„¤ë“ë ¥ì´ ì—†ìŠµë‹ˆë‹¤.",
    "ë…¸ë™ì‹œì¥ ìœ ì—°ì„± í™•ëŒ€ëŠ” ì²­ë…„ ì¼ìë¦¬ë¥¼ ëŠ˜ë¦¬ì§€ ëª»í•œ ì±„ ë¹„ì •ê·œì§ë§Œ ì¦ê°€ì‹œì¼°ìŠµë‹ˆë‹¤.",
    "ìš°ë¦¬ëŠ” ì£¼ê±°ë¹„Â·êµìœ¡ë¹„ ë“± í•„ìˆ˜ì¬ ê°€ê²© ì•ˆì •í™”, ì¤‘ì†Œê¸°ì—… ë§ì¶¤í˜• ì§€ì›, ê³µê³µë¶€ë¬¸ ì¼ìë¦¬ í™•ëŒ€, ì§ì—…í›ˆë ¨ ê°•í™”ë¡œ ëŒ€ì‘í•˜ê² ìŠµë‹ˆë‹¤.",
    "ì •ë¶€ì˜ ì ê·¹ì  ì—­í•  ì—†ì´ëŠ” ë³µí•© ìœ„ê¸°ë¥¼ í•´ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
  ], timings:[12,9,10,8,13,8], video:"facevideo/ì§„ë³´2_h264.mp4", duration:25},

  {role:"ë³´ìˆ˜", text:[
    "ìƒëŒ€ ì¸¡ì˜ ì ê·¹ì  ê°œì…ì€ ì¥ê¸°ì ìœ¼ë¡œ ì¬ì • ì ìë¥¼ í™•ëŒ€í•´ êµ­ê°€ ì‹ ìš©ë“±ê¸‰ì„ ë–¨ì–´ëœ¨ë¦½ë‹ˆë‹¤.",
    "2023ë…„ êµ­ê°€ì±„ë¬´ëŠ” GDP ëŒ€ë¹„ 54%ë¡œ ì‚¬ìƒ ìµœê³ ì¹˜ë¥¼ ê¸°ë¡í–ˆìŠµë‹ˆë‹¤.",
    "ê°€ê²© ì•ˆì •í™” ì •ì±…ì€ ê³µê¸‰ ë¶€ì¡±ì„ ì‹¬í™”ì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, 2017ë…„ ì£¼ê±°ë¹„ ì§€ì› ì •ì±… í›„ ì „ì„¸ê°€ê°€ 18% ìƒìŠ¹í•œ ì‚¬ë¡€ê°€ ìˆìŠµë‹ˆë‹¤.",
    "ì¤‘ì†Œê¸°ì—… ì§€ì›ì˜ 34%ê°€ ë¶€ì‹¤ ê¸°ì—…ì— ì§‘í–‰ëœ ê²ƒë„ ë¬¸ì œì…ë‹ˆë‹¤.",
    "ë…¸ë™ì‹œì¥ ìœ ì—°ì„±ì„ ê±°ë¶€í•˜ëŠ” ê²ƒì€ ì²­ë…„ ì‹¤ì—…ì„ ì•…í™”ì‹œí‚¬ ë¿ì´ë©°, OECD í‰ê·  ëŒ€ë¹„ 2ë°° ë†’ì€ ìˆ˜ì¤€ì…ë‹ˆë‹¤.",
    "ìš°ë¦¬ëŠ” ì‹œì¥ ì¹œí™”ì  ê·œì œ ê°œí˜ê³¼ íˆ¬ì ìœ ì¸ì„ ê°•í™”í•´ ì§€ì† ê°€ëŠ¥í•œ ì„±ì¥ì„ ì¶”ì§„í•˜ê² ìŠµë‹ˆë‹¤."
  ], timings:[9,7,13,7,12,11], video:"facevideo/ë³´ìˆ˜2_h264.mp4", duration:25},

  {role:"ì§„ë³´", text:[
    "êµ­ê°€ì±„ë¬´ ìš°ë ¤ëŠ” ê³¼ì¥ëìŠµë‹ˆë‹¤. ì½”ë¡œë‚˜ ìœ„ê¸° ì†ì—ì„œë„ IMFëŠ” ì¬ì • í™•ëŒ€ë¥¼ ê¶Œê³ í–ˆìœ¼ë©°, í•œêµ­ì˜ êµ­ê°€ì±„ë¬´ëŠ” ì„ ì§„êµ­ í‰ê· ë³´ë‹¤ ë‚®ìŠµë‹ˆë‹¤.",
    "2017ë…„ ì „ì„¸ ê°€ê²© ìƒìŠ¹ì€ íˆ¬ê¸° ìˆ˜ìš”ì™€ ì €ê¸ˆë¦¬ ì˜í–¥ì´ ì»¸ìŠµë‹ˆë‹¤. ì •ë¶€ëŠ” 25ì°¨ë¡€ ëŒ€ì±…ìœ¼ë¡œ ì‹œì¥ì„ ì•ˆì •ì‹œì¼°ìŠµë‹ˆë‹¤.",
    "ì¤‘ì†Œê¸°ì—… ì§€ì› íš¨ê³¼ëŠ” ëšœë ·í•©ë‹ˆë‹¤. 2023ë…„ ì„±ê³¼í‰ê°€ì— ë”°ë¥´ë©´ ìƒì‚°ì„± 12% í–¥ìƒ, ê³ ìš© 8ë§Œ ê°œ ì¦ê°€ê°€ ìˆì—ˆìŠµë‹ˆë‹¤.",
    "ë…¸ë™ì‹œì¥ ìœ ì—°ì„±ê³¼ ì²­ë…„ ì‹¤ì—…ë¥  ê´€ê³„ëŠ” ë‹¨ìˆœí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë¯¸êµ­ì€ ìœ ì—°ì„±ì´ ë†’ì§€ë§Œ ì²­ë…„ ì‹¤ì—…ë¥ ì€ 7.9%ë¡œ í•œêµ­ë³´ë‹¤ ë†’ìŠµë‹ˆë‹¤.",
    "ìš°ë¦¬ëŠ” í•„ìˆ˜ì¬ ê°€ê²© ìƒí•œì œ, ì¤‘ì†Œê¸°ì—… ë””ì§€í„¸ ì „í™˜ í€ë“œ í™•ëŒ€, ì²­ë…„ ê³µê³µë¶€ë¬¸ ì±„ìš© ëª©í‘œì œë¥¼ í†µí•´ ê²½ì œ íšŒë³µì„ ì´ëŒê² ìŠµë‹ˆë‹¤."
  ], timings:[14,12,12,13,14], video:"facevideo/ì§„ë³´3_h264.mp4", duration:25},

  {role:"ë³´ìˆ˜", text:[
    "êµ­ê°€ì±„ë¬´ëŠ” ì¥ê¸°ì ìœ¼ë¡œ ì¬ì • ê±´ì „ì„±ì„ í›¼ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 5ë…„ ë‚´ 60%ë¥¼ ë„˜ì–´ì„¤ ì „ë§ì…ë‹ˆë‹¤.",
    "ê°€ê²© ìƒí•œì œëŠ” ê³µê¸‰ ë¶€ì¡±ì„ ì´ˆë˜í•œë‹¤ëŠ” ì—­ì‚¬ì  ê²½í—˜ì´ ìˆìŠµë‹ˆë‹¤.",
    "ì¤‘ì†Œê¸°ì—… ì§€ì› ì„±ê³¼ëŠ” ìƒìœ„ ê¸°ì—…ì—ë§Œ ì§‘ì¤‘ë˜ì—ˆê³ , í•˜ìœ„ ê¸°ì—…ì€ ì˜¤íˆë ¤ ìƒì‚°ì„±ì´ ê°ì†Œí–ˆìŠµë‹ˆë‹¤.",
    "ë…¸ë™ì‹œì¥ ìœ ì—°ì„±ê³¼ ì²­ë…„ ì‹¤ì—…ë¥  ê´€ê³„ëŠ” ë‹¨ìˆœí•˜ì§€ ì•Šì§€ë§Œ, ìƒëŒ€ ì¸¡ ì£¼ì¥ì€ ì‚¬ì‹¤ì„ ì™œê³¡í•©ë‹ˆë‹¤.",
    "ìš°ë¦¬ëŠ” ê·œì œ ì™„í™”, ì¤‘ì†Œê¸°ì—… í˜ì‹  ì§€ì›, ì§ì—…í›ˆë ¨ í™•ëŒ€ë¥¼ í†µí•´ ë¯¼ìƒê²½ì œ íšŒë³µì„ ì¶”ì§„í•˜ê² ìŠµë‹ˆë‹¤.",
    "ìƒëŒ€ ì¸¡ì˜ ì •ì±…ì€ ë‹¨ê¸°ì  í¬í“°ë¦¬ì¦˜ì— ë¶ˆê³¼í•©ë‹ˆë‹¤."
  ], timings:[10,7,9,9,11,6], video:"facevideo/ë³´ìˆ˜3_h264.mp4", duration:25},

  {role:"ì‚¬íšŒì", text:[
    "ìˆ˜ê³  ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ í† ë¡ ì—ì„œ ì§„ë³´ ì¸¡ê³¼ ë³´ìˆ˜ ì¸¡ ëª¨ë‘ ì—´ì •ì ì¸ ë…¼ì˜ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ê´€ì ê³¼ ì •ì±… ëŒ€ì•ˆì„ ì œì‹œí•´ ì£¼ì…¨ìŠµë‹ˆë‹¤.",
    "ì–‘ì¸¡ì˜ ë…¸ê³ ì™€ ì§„ì§€í•œ íƒœë„ì— ê°ì‚¬ë“œë¦¬ë©°, ì´ëŸ¬í•œ ê±´ì„¤ì ì¸ ëŒ€í™”ê°€ ì‚¬íšŒ ë°œì „ì— ê¸°ì—¬í•  ê²ƒì´ë¼ ë¯¿ìŠµë‹ˆë‹¤.",
    "ì˜¤ëŠ˜ ì œì‹œëœ ì˜ê²¬ì€ êµ­ë¯¼ ì—¬ëŸ¬ë¶„ì˜ í˜„ëª…í•œ íŒë‹¨ì— ë„ì›€ì´ ë  ê²ƒì…ë‹ˆë‹¤.",
    "ì•ìœ¼ë¡œë„ ê³„ì†ëœ ëŒ€í™”ì™€ í˜‘ë ¥ì„ ê¸°ëŒ€í•©ë‹ˆë‹¤.",
    "ë§ˆì§€ë§‰ìœ¼ë¡œ ì‹œì²­í•´ì£¼ì‹  ëª¨ë“  ë¶„ë“¤ê»˜ ê°ì‚¬ë“œë¦½ë‹ˆë‹¤."
  ], timings:[2,13,11,10,6,6], video:"facevideo/ì‚¬íšŒì2_h264.mp4", duration:20}
];


    let stageIndex = 0;
    let sentenceIndex = 0;
    let sentenceTimer;
    let stageTimer;
    let soundOn = true; // ëª¨ë“  ì˜ìƒ ì†Œë¦¬ ì¼œì„œ ìë™ì¬ìƒ ì‹œë„


    function renderStage(){
      const current = progress[stageIndex];
      const container = document.getElementById("stage");
      const subtitle = document.getElementById("subtitle");
      container.innerHTML = "";
      const mutedAttr = soundOn ? '' : 'muted';

      // ğŸ‘‰ ìë§‰ ìƒ‰ìƒ ë™ì  ë³€ê²½
      if(current.role === "ë³´ìˆ˜"){
        subtitle.style.background = "#a64040";     // ë¶‰ì€ìƒ‰
      } else if(current.role === "ì§„ë³´"){
        subtitle.style.background = "#1b6db7";     // íŒŒë€ìƒ‰
      } else if(current.role === "ì‚¬íšŒì"){
        subtitle.style.background = "#333333";     // ì§„í•œ íšŒìƒ‰
      } else {
        subtitle.style.background = "var(--primary)"; // ê¸°ë³¸ê°’
      }

      if(current.role === "ì‚¬íšŒì"){
        container.innerHTML = `
          <section class="panel-moderator">
            <video autoplay ${mutedAttr} playsinline>
              <source src="${current.video}" type="video/mp4">
            </video>
          </section>`;
      } else {
        // ê³ ì •ëœ ë¸”ëŸ­ ì•ˆì— media-wrapì„ ë§Œë“¤ì–´ì„œ ì˜ìƒ/ì´ë¯¸ì§€ êµì²´
        container.innerHTML = `
          <section class="grid-2">
            <div class="participant progressive">
              <h3>ì§„ë³´</h3>
              <div class="media-wrap" id="block-progressive"></div>
            </div>
            <div class="participant conservative">
              <h3>ë³´ìˆ˜</h3>
              <div class="media-wrap" id="block-conservative"></div>
            </div>
          </section>`;

        if(current.role === "ì§„ë³´"){
          document.getElementById("block-progressive").innerHTML =
            `<video autoplay ${mutedAttr} playsinline><source src="${current.video}" type="video/mp4"></video>`;
          document.getElementById("block-conservative").innerHTML =
            `<img src="kiiiiiiim.png" alt="ë³´ìˆ˜ ì¸ë¬¼">`;
        } else if(current.role === "ë³´ìˆ˜"){
          document.getElementById("block-conservative").innerHTML =
            `<video autoplay ${mutedAttr} playsinline><source src="${current.video}" type="video/mp4"></video>`;
          document.getElementById("block-progressive").innerHTML =
            `<img src="leeeeeeee.png" alt="ì§„ë³´ ì¸ë¬¼">`;
        }
      }

      // ë¹„ë””ì˜¤ ì¬ìƒ ë° ì¢…ë£Œ ì‹œ ë§ˆì§€ë§‰ í”„ë ˆì„ ìœ ì§€
      const vids = container.querySelectorAll('video');
      vids.forEach(v => {
        v.muted = !soundOn ? true : false;
        const p = v.play();
        if (p && p.catch) {
          p.catch(() => { v.muted = true; v.play(); });
        }

        // ì˜ìƒ ëë‚œ ë’¤ ë§ˆì§€ë§‰ í”„ë ˆì„ ìº¡ì²˜ â†’ ì´ë¯¸ì§€ë¡œ êµì²´
        // ë¹„ë””ì˜¤ ëë‚œ ë’¤ ë§ˆì§€ë§‰ í”„ë ˆì„ ìº¡ì²˜ â†’ ì´ë¯¸ì§€ë¡œ ë¶€ë“œëŸ½ê²Œ êµì²´
        v.addEventListener("ended", () => {
          nextStage();
        //   const canvas = document.createElement("canvas");
        //   canvas.width = v.videoWidth;
        //   canvas.height = v.videoHeight;
        //   const ctx = canvas.getContext("2d");
        //   ctx.drawImage(v, 0, 0, canvas.width, canvas.height);
        //   const imgURL = canvas.toDataURL("image/png");

        //   // ìƒˆ ì´ë¯¸ì§€ ìƒì„±
        //   const img = document.createElement("img");
        //   img.src = imgURL;
        //   img.style.opacity = "0";
        //   v.parentNode.appendChild(img);

        //   // ì¡°ê¸ˆ ëŠ¦ê²Œ opacity ì˜¬ë ¤ì„œ fade-in
        //   requestAnimationFrame(() => {
        //     img.style.opacity = "1";
        //     v.classList.add("hide"); // ê¸°ì¡´ videoëŠ” fade-out
        //   });
        //         // ğŸ¯ ì˜ìƒ ëë‚˜ë©´ ë°”ë¡œ ë‹¤ìŒ ë¸”ë¡ ì‹¤í–‰
        // setTimeout(() => {
        //   nextStage();
        // }, 500); // 0.5ì´ˆ ì •ë„ í…€ ë‘ê³  ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜
        });
      });

    //   // ìë§‰ ê´€ë ¨ ì½”ë“œ //
    //   const DEFAULT_SUB_SEC = 4;
    //   const sentences = Array.isArray(current.text)
    //     ? current.text
    //     : String(current.text).split(/(?<=[.?!])\s+/);

    //   const timings = Array.isArray(current.timings) ? current.timings : [];
    //   let i = 0;
    //   clearTimeout(sentenceTimer);

    //   function step() {
    //     subtitle.textContent = sentences[i] || "";
    //     const delaySec = Number(timings[i] ?? DEFAULT_SUB_SEC);
    //     i++;

    //     if (i < sentences.length) {
    //       sentenceTimer = setTimeout(step, delaySec * 1000);
    //     } else {
    //       sentenceTimer = setTimeout(nextStage, delaySec * 1000);
    //     }
    //   }
    // step();
     }


    function nextStage(){
      stageIndex++;
      if(stageIndex < progress.length){
        renderStage();
      } else if (stageIndex === progress.length) {
          clearTimeout(stageTimer);
          clearInterval(sentenceTimer);
          document.getElementById("summaryBtn").style.display = "inline-flex";
        } else {
          // ê·¸ ì™¸ì—ëŠ” ì ˆëŒ€ ë²„íŠ¼ ë…¸ì¶œ ì•ˆ í•¨
          document.getElementById("summaryBtn").style.display = "none";
        }
      }
      
    function scheduleNext(durationSec){
      clearTimeout(stageTimer);
      const delay = Number(durationSec) * 1000;
      if(!isFinite(delay) || delay <= 0) return;
      stageTimer = setTimeout(nextStage, delay);
    }

    function startDebate(){
      soundOn = true; // ì‚¬ìš©ì ì œìŠ¤ì²˜ ì‹œì ì— ì†Œë¦¬ ì¬ìƒ í—ˆìš©
      clearTimeout(stageTimer);
      clearInterval(sentenceTimer);
      stageIndex = 0;
      sentenceIndex = 0;

      document.getElementById("summaryBox").style.display = "none";
      document.getElementById("summaryBtn").style.display = "none";

      const topic = document.getElementById("topicInput").value.trim();
      const h2 = document.getElementById("topicTitle");
      const searchBox = document.getElementById("searchBox");

      if(!topic) return;
      h2.textContent = topic;
      h2.style.display = "block";
      searchBox.style.display = "none";

      renderStage();
    }

    document.getElementById("startBtn").addEventListener("click", startDebate);
    document.getElementById("topicInput").addEventListener("keydown", (e) => {
      if(e.key === "Enter") startDebate();
    });
    document.getElementById("summaryBtn").addEventListener("click", () => {
      document.getElementById("summaryBox").style.display = "block";
      document.getElementById("summaryBtn").style.display = "none";
    });
  </script>
</body>
</html>
